# Rubber Duck App - UI/UXデザイン仕様

## デザインコンセプト

**「ターミナルに住むダック」** — エンジニアが自然に使える、ダークテーマベースのミニマルUI。

### デザイン原則

1. **ダークファースト** — 目に優しく、コードエディタと馴染む
2. **ミニマル** — 余計なボタンやメニューを排除
3. **呼吸するUI** — ダックの微細なアニメーションで生命感を演出
4. **monospace愛** — エンジニアが好むフォントで統一感

## カラーパレット

```
Background:
  --bg-primary:    #0d1117    (GitHub Dark風の深い黒)
  --bg-secondary:  #161b22    (カード背景)
  --bg-tertiary:   #21262d    (入力欄背景)

Text:
  --text-primary:  #e6edf3    (メインテキスト)
  --text-secondary:#8b949e    (サブテキスト)
  --text-muted:    #484f58    (プレースホルダ)

Accent:
  --accent:        #f0b429    (ダックイエロー!!)
  --accent-hover:  #f7c948
  --accent-glow:   rgba(240, 180, 41, 0.15)

Border:
  --border:        #30363d
  --border-focus:  #f0b429
```

## レイアウト

```
┌─────────────────────────────────────┐
│  ● ● ●          Rubber Duck    — □ ✕│  ← タイトルバー (ドラッグ可能)
├─────────────────────────────────────┤
│                                     │
│         🦆  (SVGダック)             │
│        ぷかぷかアニメーション         │
│                                     │
│  ┌─────────────────────────────┐    │
│  │  ユーザー: こんにちは        │    │  ← チャットエリア
│  │                             │    │     (スクロール可能)
│  │  🦆 ...                     │    │  ← ダックは"..."しか言わない
│  │                             │    │
│  │  ユーザー: バグが見つからない │    │
│  │                             │    │
│  │  🦆 ...                     │    │
│  └─────────────────────────────┘    │
│                                     │
│  ┌─────────────────────┐  [Send]   │  ← 入力エリア
│  │  思っていることを話す...│           │
│  └─────────────────────┘           │
│                                     │
│  [New Session]     [History] [⚙]   │  ← フッター
└─────────────────────────────────────┘
```

## ウィンドウ仕様

| 項目 | 値 |
|------|-----|
| デフォルトサイズ | 480 x 680 px |
| 最小サイズ | 380 x 500 px |
| リサイズ | 可 |
| フレーム | カスタムタイトルバー (frameless) |
| 角丸 | macOS: ネイティブ / Win: border-radius: 12px |

## タイポグラフィ

| 用途 | フォント | サイズ |
|------|---------|-------|
| UI全般 | `"JetBrains Mono", "Fira Code", "SF Mono", monospace` | 13px |
| チャットテキスト | 同上 | 14px |
| タイトル | 同上 (bold) | 16px |
| タイムスタンプ | 同上 | 11px |

## ダックのふるまい

### アイドル状態
- 上下にゆっくり浮遊 (CSS animation: 3s ease-in-out infinite)
- 時々まばたき

### メッセージ受信時
- 軽くバウンス (bounce animation: 0.4s)
- 「...」を1.5秒かけてタイピング風に表示
- ごく稀に別リアクション:
  - 「...?」(5%の確率)
  - 「......」(3%の確率)
  - 「quack」(1%の確率 — イースターエッグ)

### ダックのSVGデザイン方針
- フラットデザイン
- ダックイエロー (#f0b429) ベース
- 丸みを帯びたシンプルなシルエット
- 表情は最小限 (目と嘴だけ)

## アニメーション

すべてCSSアニメーション + requestAnimationFrame で実装。
ライブラリ不使用。

```css
/* ダック浮遊 */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50%      { transform: translateY(-8px); }
}

/* メッセージ受信バウンス */
@keyframes bounce {
  0%   { transform: scale(1); }
  30%  { transform: scale(1.08); }
  60%  { transform: scale(0.97); }
  100% { transform: scale(1); }
}

/* フェードイン (メッセージ) */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}
```

## インタラクション

| アクション | 挙動 |
|-----------|------|
| Enter | メッセージ送信 |
| Shift+Enter | 改行 |
| Cmd/Ctrl+N | 新しいセッション |
| Cmd/Ctrl+H | 履歴パネルトグル |
| ダックをクリック | ダックが少し跳ねる（お遊び） |
